<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="EUC-KR">
    <title>Oh! My Dairy</title>
    <link rel="stylesheet" th:href="@{style.css}"/>
</head>
<body>
    <form method="POST" th:action="@{/prescriptions}" th:object="${prescription}">
        <h1>Place your prescription</h1>

        <ul>
            <li th:each="intake : ${presciption.intakes}">
            <span th:text="${intake.name}">intake name</span>
            </li>
        </ul>

        <a th:href="@{/design}" id="another">Design another presciption</a><br/>
        <div th:if="${#fields.hasErrors()}">
            <span class="validationError">
                Please correct the problems below and resubmit.
            </span>
        </div>

        <h3>Apply my presciption to ...</h3>

        <label for="name">Name: </label>
        <input type="text" th:field="*{name}"/><br/>
        <span class="validationError"
            th:if="${#fields.hasErrors('name')}"
            th:errors="*{name}"> Name Error</span><br/>

        <label for="startDate">starting date: </label>
        <input type="text" th:field="*{startDate}"/><br/>
        <span class="validationError" 
        th:if="${#fields.hasErrors('startDate')}" 
        th:errors="*{startDate}"> Starting Date Error</span><br/>

        <label for="intakeDays"> intake days: </label>
        <input type="text" th:field="*{intakeDays}"/><br/>
        <span class="validationError"
            th:if="${#fields.hasErrors('intakeDays')}"
            th:errors="*{intakeDays}"> Intake Days Error</span><br/>

        <input type="submit" value="Submit prescription"/>
    </form>
</body>
</html>
